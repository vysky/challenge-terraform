# challenge-terraform

modified the code from
https://docs.microsoft.com/en-us/azure/developer/terraform/create-vm-scaleset-network-disks-hcl
so it can be deployed to acloudguru sandbox

steps to modify the code
variables.tf
1. replace the default value of variable "resource_group_name" with the resource group name generated by acloudguru sandbox
2. add "default = <password>" under variable "admin_password" so there will be no more prompt, make sure the password fits the password requirements

main.tf
1. add "skip_provider_registration = true" under provider "azurezm"
2. comment out resource "azurerm_resource_group" "vmss" block
3. replace all "resource_group_name = azurerm_resource_group.vmss.name" with "resource_group_name = var.resource_group_name"

steps to run the code
1. start acg sandbox
2. run "az login -u <username from acg sandbox>"
3. run "terraform init"
4. run "terraform plan"
5. run "terraform apply"